<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_242) on Fri Apr 10 07:52:48 AMT 2020 -->
<title>MaxPropRouterWithEstimation</title>
<meta name="date" content="2020-04-10">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MaxPropRouterWithEstimation";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MaxPropRouterWithEstimation.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../routing/MaxPropRouter.MaxPropTupleComparator.html" title="class in routing"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../routing/MaxPropRouterWithEstimation.MaxPropComparator.html" title="class in routing"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?routing/MaxPropRouterWithEstimation.html" target="_top">Frames</a></li>
<li><a href="MaxPropRouterWithEstimation.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">routing</div>
<h2 title="Class MaxPropRouterWithEstimation" class="title">Class MaxPropRouterWithEstimation</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../routing/MessageRouter.html" title="class in routing">routing.MessageRouter</a></li>
<li>
<ul class="inheritance">
<li><a href="../routing/ActiveRouter.html" title="class in routing">routing.ActiveRouter</a></li>
<li>
<ul class="inheritance">
<li>routing.MaxPropRouterWithEstimation</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">MaxPropRouterWithEstimation</span>
extends <a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></pre>
<div class="block">Implementation of MaxProp router as described in 
 <I>MaxProp: Routing for Vehicle-Based Disruption-Tolerant Networks</I> by
 John Burgess et al.
 
 but with parameter estimation for finding an alpha based on timescale
 definition:
 
 Extension of the protocol by adding a parameter alpha (default 1)
 By new connection, the delivery likelihood is increased by alpha
 and divided by 1+alpha.  Using the default results in the original 
 algorithm.  Refer to Karvo and Ott, <I>Time Scales and Delay-Tolerant Routing 
 Protocols</I> Chants, 2008 
 
 This version tries to estimate a good value of alpha from a timescale parameter
 given by the user, and from the encounters the node sees during simulation.</div>
<dl>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>1.0</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.MaxPropComparator.html" title="class in routing">MaxPropRouterWithEstimation.MaxPropComparator</a></span></code>
<div class="block">Message comparator for the MaxProp routing module.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.MaxPropTupleComparator.html" title="class in routing">MaxPropRouterWithEstimation.MaxPropTupleComparator</a></span></code>
<div class="block">Message-Connection tuple comparator for the MaxProp routing 
 module.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#ackedMessageIds">ackedMessageIds</a></span></code>
<div class="block">IDs of the messages that are known to have reached the final dst</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.Integer,<a href="../routing/maxprop/MeetingProbabilitySet.html" title="class in routing.maxprop">MeetingProbabilitySet</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#allProbs">allProbs</a></span></code>
<div class="block">meeting probabilities of all hosts from this host's point of view 
 mapped using host's network address</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#alpha">alpha</a></span></code>
<div class="block">The alpha variable, default = 1;</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#avgSamples">avgSamples</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#avgTransferredBytes">avgTransferredBytes</a></span></code>
<div class="block">current value for the "avg number of bytes transferred per transfer
 opportunity"</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#BYTES_TRANSFERRED_AVG_SAMPLES">BYTES_TRANSFERRED_AVG_SAMPLES</a></span></code>
<div class="block">Over how many samples the "average number of bytes transferred per
 transfer opportunity" is taken</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.Integer,java.lang.Double&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#costsForMessages">costsForMessages</a></span></code>
<div class="block">mapping of the current costs for all messages.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#DEFAULT_ALPHA">DEFAULT_ALPHA</a></span></code>
<div class="block">The default value for alpha</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../routing/maxprop/MaxPropDijkstra.html" title="class in routing.maxprop">MaxPropDijkstra</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#dijkstra">dijkstra</a></span></code>
<div class="block">the cost-to-node calculator</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Map&lt;<a href="../core/DTNHost.html" title="class in core">DTNHost</a>,java.lang.Integer&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#encounters">encounters</a></span></code>
<div class="block">number of encounters between encounters</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../core/DTNHost.html" title="class in core">DTNHost</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#lastCostFrom">lastCostFrom</a></span></code>
<div class="block">From host of the last cost calculation</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#MAXPROP_NS">MAXPROP_NS</a></span></code>
<div class="block">MaxPROP router's setting namespace ("MaxPropRouterWithEstimation")</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#meanENC">meanENC</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#meanIET">meanIET</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.Map&lt;<a href="../core/DTNHost.html" title="class in core">DTNHost</a>,java.lang.Double&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#meetings">meetings</a></span></code>
<div class="block">last meeting time with a node</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#nextSampleIndex">nextSampleIndex</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#nrofSamplesENC">nrofSamplesENC</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#nrofSamplesIET">nrofSamplesIET</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#nrofTotENC">nrofTotENC</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../routing/maxprop/MeetingProbabilitySet.html" title="class in routing.maxprop">MeetingProbabilitySet</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#probs">probs</a></span></code>
<div class="block">probabilities of meeting hosts</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#TIME_SCALE_S">TIME_SCALE_S</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#timescale">timescale</a></span></code>
<div class="block">value of time scale variable</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.routing.ActiveRouter">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;routing.<a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></h3>
<code><a href="../routing/ActiveRouter.html#DELETE_DELIVERED_S">DELETE_DELIVERED_S</a>, <a href="../routing/ActiveRouter.html#deleteDelivered">deleteDelivered</a>, <a href="../routing/ActiveRouter.html#RESPONSE_PREFIX">RESPONSE_PREFIX</a>, <a href="../routing/ActiveRouter.html#sendingConnections">sendingConnections</a>, <a href="../routing/ActiveRouter.html#TTL_CHECK_INTERVAL">TTL_CHECK_INTERVAL</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.routing.MessageRouter">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;routing.<a href="../routing/MessageRouter.html" title="class in routing">MessageRouter</a></h3>
<code><a href="../routing/MessageRouter.html#B_SIZE_S">B_SIZE_S</a>, <a href="../routing/MessageRouter.html#DENIED_LOW_RESOURCES">DENIED_LOW_RESOURCES</a>, <a href="../routing/MessageRouter.html#DENIED_NO_SPACE">DENIED_NO_SPACE</a>, <a href="../routing/MessageRouter.html#DENIED_OLD">DENIED_OLD</a>, <a href="../routing/MessageRouter.html#DENIED_POLICY">DENIED_POLICY</a>, <a href="../routing/MessageRouter.html#DENIED_TTL">DENIED_TTL</a>, <a href="../routing/MessageRouter.html#DENIED_UNSPECIFIED">DENIED_UNSPECIFIED</a>, <a href="../routing/MessageRouter.html#MSG_TTL_S">MSG_TTL_S</a>, <a href="../routing/MessageRouter.html#msgTtl">msgTtl</a>, <a href="../routing/MessageRouter.html#Q_MODE_FIFO">Q_MODE_FIFO</a>, <a href="../routing/MessageRouter.html#Q_MODE_RANDOM">Q_MODE_RANDOM</a>, <a href="../routing/MessageRouter.html#RCV_OK">RCV_OK</a>, <a href="../routing/MessageRouter.html#SEND_QUEUE_MODE_S">SEND_QUEUE_MODE_S</a>, <a href="../routing/MessageRouter.html#TRY_LATER_BUSY">TRY_LATER_BUSY</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#MaxPropRouterWithEstimation-routing.MaxPropRouterWithEstimation-">MaxPropRouterWithEstimation</a></span>(<a href="../routing/MaxPropRouterWithEstimation.html" title="class in routing">MaxPropRouterWithEstimation</a>&nbsp;r)</code>
<div class="block">Copy constructor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#MaxPropRouterWithEstimation-core.Settings-">MaxPropRouterWithEstimation</a></span>(<a href="../core/Settings.html" title="class in core">Settings</a>&nbsp;settings)</code>
<div class="block">Constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#calcThreshold--">calcThreshold</a></span>()</code>
<div class="block">Calculates and returns the current threshold value for the buffer's split
 based on the average number of bytes transferred per transfer opportunity
 and the hop counts of the messages in the buffer.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#changedConnection-core.Connection-">changedConnection</a></span>(<a href="../core/Connection.html" title="class in core">Connection</a>&nbsp;con)</code>
<div class="block">Called when a connection's state changes.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#deleteAckedMessages--">deleteAckedMessages</a></span>()</code>
<div class="block">Deletes the messages from the message buffer that are known to be ACKed</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#getCost-core.DTNHost-core.DTNHost-">getCost</a></span>(<a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;from,
       <a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;to)</code>
<div class="block">Returns the message delivery cost between two hosts from this host's
 point of view.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected <a href="../core/Message.html" title="class in core">Message</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#getNextMessageToRemove-boolean-">getNextMessageToRemove</a></span>(boolean&nbsp;excludeMsgBeingSent)</code>
<div class="block">Returns the next message that should be dropped, according to MaxProp's
 message ordering scheme (see <a href="../routing/MaxPropRouterWithEstimation.MaxPropTupleComparator.html" title="class in routing"><code>MaxPropRouterWithEstimation.MaxPropTupleComparator</code></a>).</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../routing/util/RoutingInfo.html" title="class in routing.util">RoutingInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#getRoutingInfo--">getRoutingInfo</a></span>()</code>
<div class="block">Returns routing information about this router.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#initMeetings--">initMeetings</a></span>()</code>
<div class="block">Initializes interencounter estimators</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../core/Message.html" title="class in core">Message</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#messageTransferred-java.lang.String-core.DTNHost-">messageTransferred</a></span>(java.lang.String&nbsp;id,
                  <a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;from)</code>
<div class="block">This method should be called (on the receiving host) after a message
 was successfully transferred.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../routing/MessageRouter.html" title="class in routing">MessageRouter</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#replicate--">replicate</a></span>()</code>
<div class="block">Creates a replicate of this router.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#transferDone-core.Connection-">transferDone</a></span>(<a href="../core/Connection.html" title="class in core">Connection</a>&nbsp;con)</code>
<div class="block">Method is called just before a transfer is finalized 
 at <a href="../routing/ActiveRouter.html#update--"><code>ActiveRouter.update()</code></a>.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>private <a href="../util/Tuple.html" title="class in util">Tuple</a>&lt;<a href="../core/Message.html" title="class in core">Message</a>,<a href="../core/Connection.html" title="class in core">Connection</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#tryOtherMessages--">tryOtherMessages</a></span>()</code>
<div class="block">Tries to send all other messages to all connected hosts ordered by
 hop counts and their delivery probability</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#update--">update</a></span>()</code>
<div class="block">Checks out all sending connections to finalize the ready ones 
 and abort those whose connection went down.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#updateEstimators-core.DTNHost-">updateEstimators</a></span>(<a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;host)</code>
<div class="block">Updates the MaxPROP estimators</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#updateParam--">updateParam</a></span>()</code>
<div class="block">update the alpha parameter based on the estimators</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#updateTransferredBytesAvg-int-">updateTransferredBytesAvg</a></span>(int&nbsp;newValue)</code>
<div class="block">Updates the average estimate of the number of bytes transferred per
 transfer opportunity.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/MaxPropRouterWithEstimation.html#updateTransitiveProbs-java.util.Map-">updateTransitiveProbs</a></span>(java.util.Map&lt;java.lang.Integer,<a href="../routing/maxprop/MeetingProbabilitySet.html" title="class in routing.maxprop">MeetingProbabilitySet</a>&gt;&nbsp;p)</code>
<div class="block">Updates transitive probability values by replacing the current 
 MeetingProbabilitySets with the values from the given mapping
 if the given sets have more recent updates.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.routing.ActiveRouter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;routing.<a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></h3>
<code><a href="../routing/ActiveRouter.html#addToSendingConnections-core.Connection-">addToSendingConnections</a>, <a href="../routing/ActiveRouter.html#canStartTransfer--">canStartTransfer</a>, <a href="../routing/ActiveRouter.html#checkReceiving-core.Message-core.DTNHost-">checkReceiving</a>, <a href="../routing/ActiveRouter.html#createNewMessage-core.Message-">createNewMessage</a>, <a href="../routing/ActiveRouter.html#dropExpiredMessages--">dropExpiredMessages</a>, <a href="../routing/ActiveRouter.html#exchangeDeliverableMessages--">exchangeDeliverableMessages</a>, <a href="../routing/ActiveRouter.html#getConnections--">getConnections</a>, <a href="../routing/ActiveRouter.html#getMessagesForConnected--">getMessagesForConnected</a>, <a href="../routing/ActiveRouter.html#hasEnergy--">hasEnergy</a>, <a href="../routing/ActiveRouter.html#init-core.DTNHost-java.util.List-">init</a>, <a href="../routing/ActiveRouter.html#isSending-java.lang.String-">isSending</a>, <a href="../routing/ActiveRouter.html#isTransferring--">isTransferring</a>, <a href="../routing/ActiveRouter.html#makeRoomForMessage-int-">makeRoomForMessage</a>, <a href="../routing/ActiveRouter.html#makeRoomForNewMessage-int-">makeRoomForNewMessage</a>, <a href="../routing/ActiveRouter.html#receiveMessage-core.Message-core.DTNHost-">receiveMessage</a>, <a href="../routing/ActiveRouter.html#requestDeliverableMessages-core.Connection-">requestDeliverableMessages</a>, <a href="../routing/ActiveRouter.html#shuffleMessages-java.util.List-">shuffleMessages</a>, <a href="../routing/ActiveRouter.html#startTransfer-core.Message-core.Connection-">startTransfer</a>, <a href="../routing/ActiveRouter.html#transferAborted-core.Connection-">transferAborted</a>, <a href="../routing/ActiveRouter.html#tryAllMessages-core.Connection-java.util.List-">tryAllMessages</a>, <a href="../routing/ActiveRouter.html#tryAllMessagesToAllConnections--">tryAllMessagesToAllConnections</a>, <a href="../routing/ActiveRouter.html#tryMessagesForConnected-java.util.List-">tryMessagesForConnected</a>, <a href="../routing/ActiveRouter.html#tryMessagesToConnections-java.util.List-java.util.List-">tryMessagesToConnections</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.routing.MessageRouter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;routing.<a href="../routing/MessageRouter.html" title="class in routing">MessageRouter</a></h3>
<code><a href="../routing/MessageRouter.html#addApplication-core.Application-">addApplication</a>, <a href="../routing/MessageRouter.html#addToMessages-core.Message-boolean-">addToMessages</a>, <a href="../routing/MessageRouter.html#compareByQueueMode-core.Message-core.Message-">compareByQueueMode</a>, <a href="../routing/MessageRouter.html#deleteMessage-java.lang.String-boolean-">deleteMessage</a>, <a href="../routing/MessageRouter.html#getApplications-java.lang.String-">getApplications</a>, <a href="../routing/MessageRouter.html#getBufferSize--">getBufferSize</a>, <a href="../routing/MessageRouter.html#getFreeBufferSize--">getFreeBufferSize</a>, <a href="../routing/MessageRouter.html#getHost--">getHost</a>, <a href="../routing/MessageRouter.html#getMessage-java.lang.String-">getMessage</a>, <a href="../routing/MessageRouter.html#getMessageCollection--">getMessageCollection</a>, <a href="../routing/MessageRouter.html#getNrofMessages--">getNrofMessages</a>, <a href="../routing/MessageRouter.html#hasMessage-java.lang.String-">hasMessage</a>, <a href="../routing/MessageRouter.html#isBlacklistedMessage-java.lang.String-">isBlacklistedMessage</a>, <a href="../routing/MessageRouter.html#isDeliveredMessage-core.Message-">isDeliveredMessage</a>, <a href="../routing/MessageRouter.html#isIncomingMessage-java.lang.String-">isIncomingMessage</a>, <a href="../routing/MessageRouter.html#messageAborted-java.lang.String-core.DTNHost-int-">messageAborted</a>, <a href="../routing/MessageRouter.html#putToIncomingBuffer-core.Message-core.DTNHost-">putToIncomingBuffer</a>, <a href="../routing/MessageRouter.html#removeFromIncomingBuffer-java.lang.String-core.DTNHost-">removeFromIncomingBuffer</a>, <a href="../routing/MessageRouter.html#removeFromMessages-java.lang.String-">removeFromMessages</a>, <a href="../routing/MessageRouter.html#sendMessage-java.lang.String-core.DTNHost-">sendMessage</a>, <a href="../routing/MessageRouter.html#sortByQueueMode-java.util.List-">sortByQueueMode</a>, <a href="../routing/MessageRouter.html#toString--">toString</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="probs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>probs</h4>
<pre>private&nbsp;<a href="../routing/maxprop/MeetingProbabilitySet.html" title="class in routing.maxprop">MeetingProbabilitySet</a> probs</pre>
<div class="block">probabilities of meeting hosts</div>
</li>
</ul>
<a name="allProbs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allProbs</h4>
<pre>private&nbsp;java.util.Map&lt;java.lang.Integer,<a href="../routing/maxprop/MeetingProbabilitySet.html" title="class in routing.maxprop">MeetingProbabilitySet</a>&gt; allProbs</pre>
<div class="block">meeting probabilities of all hosts from this host's point of view 
 mapped using host's network address</div>
</li>
</ul>
<a name="dijkstra">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dijkstra</h4>
<pre>private&nbsp;<a href="../routing/maxprop/MaxPropDijkstra.html" title="class in routing.maxprop">MaxPropDijkstra</a> dijkstra</pre>
<div class="block">the cost-to-node calculator</div>
</li>
</ul>
<a name="ackedMessageIds">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ackedMessageIds</h4>
<pre>private&nbsp;java.util.Set&lt;java.lang.String&gt; ackedMessageIds</pre>
<div class="block">IDs of the messages that are known to have reached the final dst</div>
</li>
</ul>
<a name="costsForMessages">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>costsForMessages</h4>
<pre>private&nbsp;java.util.Map&lt;java.lang.Integer,java.lang.Double&gt; costsForMessages</pre>
<div class="block">mapping of the current costs for all messages. This should be set to
 null always when the costs should be updated (a host is met or a new
 message is received)</div>
</li>
</ul>
<a name="lastCostFrom">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastCostFrom</h4>
<pre>private&nbsp;<a href="../core/DTNHost.html" title="class in core">DTNHost</a> lastCostFrom</pre>
<div class="block">From host of the last cost calculation</div>
</li>
</ul>
<a name="BYTES_TRANSFERRED_AVG_SAMPLES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BYTES_TRANSFERRED_AVG_SAMPLES</h4>
<pre>public static&nbsp;int BYTES_TRANSFERRED_AVG_SAMPLES</pre>
<div class="block">Over how many samples the "average number of bytes transferred per
 transfer opportunity" is taken</div>
</li>
</ul>
<a name="avgSamples">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>avgSamples</h4>
<pre>private&nbsp;int[] avgSamples</pre>
</li>
</ul>
<a name="nextSampleIndex">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextSampleIndex</h4>
<pre>private&nbsp;int nextSampleIndex</pre>
</li>
</ul>
<a name="avgTransferredBytes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>avgTransferredBytes</h4>
<pre>private&nbsp;int avgTransferredBytes</pre>
<div class="block">current value for the "avg number of bytes transferred per transfer
 opportunity"</div>
</li>
</ul>
<a name="MAXPROP_NS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAXPROP_NS</h4>
<pre>public static final&nbsp;java.lang.String MAXPROP_NS</pre>
<div class="block">MaxPROP router's setting namespace ("MaxPropRouterWithEstimation")</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#routing.MaxPropRouterWithEstimation.MAXPROP_NS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="TIME_SCALE_S">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TIME_SCALE_S</h4>
<pre>public static final&nbsp;java.lang.String TIME_SCALE_S</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#routing.MaxPropRouterWithEstimation.TIME_SCALE_S">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="alpha">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>alpha</h4>
<pre>private&nbsp;double alpha</pre>
<div class="block">The alpha variable, default = 1;</div>
</li>
</ul>
<a name="DEFAULT_ALPHA">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_ALPHA</h4>
<pre>public static final&nbsp;double DEFAULT_ALPHA</pre>
<div class="block">The default value for alpha</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#routing.MaxPropRouterWithEstimation.DEFAULT_ALPHA">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="timescale">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timescale</h4>
<pre>private&nbsp;int timescale</pre>
<div class="block">value of time scale variable</div>
</li>
</ul>
<a name="meetings">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>meetings</h4>
<pre>private&nbsp;java.util.Map&lt;<a href="../core/DTNHost.html" title="class in core">DTNHost</a>,java.lang.Double&gt; meetings</pre>
<div class="block">last meeting time with a node</div>
</li>
</ul>
<a name="nrofSamplesIET">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nrofSamplesIET</h4>
<pre>private&nbsp;int nrofSamplesIET</pre>
</li>
</ul>
<a name="meanIET">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>meanIET</h4>
<pre>private&nbsp;double meanIET</pre>
</li>
</ul>
<a name="encounters">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encounters</h4>
<pre>private&nbsp;java.util.Map&lt;<a href="../core/DTNHost.html" title="class in core">DTNHost</a>,java.lang.Integer&gt; encounters</pre>
<div class="block">number of encounters between encounters</div>
</li>
</ul>
<a name="nrofSamplesENC">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nrofSamplesENC</h4>
<pre>private&nbsp;int nrofSamplesENC</pre>
</li>
</ul>
<a name="meanENC">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>meanENC</h4>
<pre>private&nbsp;double meanENC</pre>
</li>
</ul>
<a name="nrofTotENC">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>nrofTotENC</h4>
<pre>private&nbsp;int nrofTotENC</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MaxPropRouterWithEstimation-core.Settings-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MaxPropRouterWithEstimation</h4>
<pre>public&nbsp;MaxPropRouterWithEstimation(<a href="../core/Settings.html" title="class in core">Settings</a>&nbsp;settings)</pre>
<div class="block">Constructor. Creates a new prototype router based on the settings in
 the given Settings object.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>settings</code> - The settings object</dd>
</dl>
</li>
</ul>
<a name="MaxPropRouterWithEstimation-routing.MaxPropRouterWithEstimation-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MaxPropRouterWithEstimation</h4>
<pre>protected&nbsp;MaxPropRouterWithEstimation(<a href="../routing/MaxPropRouterWithEstimation.html" title="class in routing">MaxPropRouterWithEstimation</a>&nbsp;r)</pre>
<div class="block">Copy constructor. Creates a new router based on the given prototype.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>r</code> - The router prototype where setting values are copied from</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="initMeetings--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initMeetings</h4>
<pre>private&nbsp;void&nbsp;initMeetings()</pre>
<div class="block">Initializes interencounter estimators</div>
</li>
</ul>
<a name="changedConnection-core.Connection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changedConnection</h4>
<pre>public&nbsp;void&nbsp;changedConnection(<a href="../core/Connection.html" title="class in core">Connection</a>&nbsp;con)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../routing/ActiveRouter.html#changedConnection-core.Connection-">ActiveRouter</a></code></span></div>
<div class="block">Called when a connection's state changes. If energy modeling is enabled,
 and a new connection is created to this node, reduces the energy for the
 device discovery (scan response) amount</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../routing/ActiveRouter.html#changedConnection-core.Connection-">changedConnection</a></code>&nbsp;in class&nbsp;<code><a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>con</code> - The connection that changed</dd>
</dl>
</li>
</ul>
<a name="updateTransitiveProbs-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateTransitiveProbs</h4>
<pre>private&nbsp;void&nbsp;updateTransitiveProbs(java.util.Map&lt;java.lang.Integer,<a href="../routing/maxprop/MeetingProbabilitySet.html" title="class in routing.maxprop">MeetingProbabilitySet</a>&gt;&nbsp;p)</pre>
<div class="block">Updates transitive probability values by replacing the current 
 MeetingProbabilitySets with the values from the given mapping
 if the given sets have more recent updates.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>p</code> - Mapping of the values of the other host</dd>
</dl>
</li>
</ul>
<a name="updateEstimators-core.DTNHost-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateEstimators</h4>
<pre>protected&nbsp;boolean&nbsp;updateEstimators(<a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;host)</pre>
<div class="block">Updates the MaxPROP estimators</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>host</code> - </dd>
</dl>
</li>
</ul>
<a name="updateParam--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateParam</h4>
<pre>protected&nbsp;void&nbsp;updateParam()</pre>
<div class="block">update the alpha parameter based on the estimators</div>
</li>
</ul>
<a name="deleteAckedMessages--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteAckedMessages</h4>
<pre>private&nbsp;void&nbsp;deleteAckedMessages()</pre>
<div class="block">Deletes the messages from the message buffer that are known to be ACKed</div>
</li>
</ul>
<a name="messageTransferred-java.lang.String-core.DTNHost-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>messageTransferred</h4>
<pre>public&nbsp;<a href="../core/Message.html" title="class in core">Message</a>&nbsp;messageTransferred(java.lang.String&nbsp;id,
                                  <a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;from)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../routing/MessageRouter.html#messageTransferred-java.lang.String-core.DTNHost-">MessageRouter</a></code></span></div>
<div class="block">This method should be called (on the receiving host) after a message
 was successfully transferred. The transferred message is put to the
 message buffer unless this host is the final recipient of the message.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../routing/ActiveRouter.html#messageTransferred-java.lang.String-core.DTNHost-">messageTransferred</a></code>&nbsp;in class&nbsp;<code><a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - Id of the transferred message</dd>
<dd><code>from</code> - Host the message was from (previous hop)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The message that this host received</dd>
</dl>
</li>
</ul>
<a name="transferDone-core.Connection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transferDone</h4>
<pre>protected&nbsp;void&nbsp;transferDone(<a href="../core/Connection.html" title="class in core">Connection</a>&nbsp;con)</pre>
<div class="block">Method is called just before a transfer is finalized 
 at <a href="../routing/ActiveRouter.html#update--"><code>ActiveRouter.update()</code></a>. MaxProp makes book keeping of the
 delivered messages so their IDs are stored.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../routing/ActiveRouter.html#transferDone-core.Connection-">transferDone</a></code>&nbsp;in class&nbsp;<code><a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>con</code> - The connection whose transfer was finalized</dd>
</dl>
</li>
</ul>
<a name="updateTransferredBytesAvg-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateTransferredBytesAvg</h4>
<pre>private&nbsp;void&nbsp;updateTransferredBytesAvg(int&nbsp;newValue)</pre>
<div class="block">Updates the average estimate of the number of bytes transferred per
 transfer opportunity.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newValue</code> - The new value to add to the estimate</dd>
</dl>
</li>
</ul>
<a name="getNextMessageToRemove-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextMessageToRemove</h4>
<pre>protected&nbsp;<a href="../core/Message.html" title="class in core">Message</a>&nbsp;getNextMessageToRemove(boolean&nbsp;excludeMsgBeingSent)</pre>
<div class="block">Returns the next message that should be dropped, according to MaxProp's
 message ordering scheme (see <a href="../routing/MaxPropRouterWithEstimation.MaxPropTupleComparator.html" title="class in routing"><code>MaxPropRouterWithEstimation.MaxPropTupleComparator</code></a>).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../routing/ActiveRouter.html#getNextMessageToRemove-boolean-">getNextMessageToRemove</a></code>&nbsp;in class&nbsp;<code><a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>excludeMsgBeingSent</code> - If true, excludes message(s) that are
 being sent from the next-to-be-dropped check (i.e., if next message to
 drop is being sent, the following message is returned)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The oldest message or null if no message could be returned
 (no messages in buffer or all messages in buffer are being sent and
 exludeMsgBeingSent is true)</dd>
</dl>
</li>
</ul>
<a name="update--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>public&nbsp;void&nbsp;update()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../routing/ActiveRouter.html#update--">ActiveRouter</a></code></span></div>
<div class="block">Checks out all sending connections to finalize the ready ones 
 and abort those whose connection went down. Also drops messages
 whose TTL <= 0 (checking every one simulated minute).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../routing/ActiveRouter.html#update--">update</a></code>&nbsp;in class&nbsp;<code><a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../routing/ActiveRouter.html#addToSendingConnections-core.Connection-"><code>ActiveRouter.addToSendingConnections(Connection)</code></a></dd>
</dl>
</li>
</ul>
<a name="getCost-core.DTNHost-core.DTNHost-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCost</h4>
<pre>public&nbsp;double&nbsp;getCost(<a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;from,
                      <a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;to)</pre>
<div class="block">Returns the message delivery cost between two hosts from this host's
 point of view. If there is no path between "from" and "to" host, 
 Double.MAX_VALUE is returned. Paths are calculated only to hosts
 that this host has messages to.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>from</code> - The host where a message is coming from</dd>
<dd><code>to</code> - The host where a message would be destined to</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The cost of the cheapest path to the destination or 
 Double.MAX_VALUE if such a path doesn't exist</dd>
</dl>
</li>
</ul>
<a name="tryOtherMessages--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryOtherMessages</h4>
<pre>private&nbsp;<a href="../util/Tuple.html" title="class in util">Tuple</a>&lt;<a href="../core/Message.html" title="class in core">Message</a>,<a href="../core/Connection.html" title="class in core">Connection</a>&gt;&nbsp;tryOtherMessages()</pre>
<div class="block">Tries to send all other messages to all connected hosts ordered by
 hop counts and their delivery probability</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The return value of <a href="../routing/ActiveRouter.html#tryMessagesForConnected-java.util.List-"><code>ActiveRouter.tryMessagesForConnected(List)</code></a></dd>
</dl>
</li>
</ul>
<a name="calcThreshold--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcThreshold</h4>
<pre>public&nbsp;int&nbsp;calcThreshold()</pre>
<div class="block">Calculates and returns the current threshold value for the buffer's split
 based on the average number of bytes transferred per transfer opportunity
 and the hop counts of the messages in the buffer. Method is public only
 to make testing easier.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>current threshold value (hop count) for the buffer's split</dd>
</dl>
</li>
</ul>
<a name="getRoutingInfo--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRoutingInfo</h4>
<pre>public&nbsp;<a href="../routing/util/RoutingInfo.html" title="class in routing.util">RoutingInfo</a>&nbsp;getRoutingInfo()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../routing/MessageRouter.html#getRoutingInfo--">MessageRouter</a></code></span></div>
<div class="block">Returns routing information about this router.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../routing/ActiveRouter.html#getRoutingInfo--">getRoutingInfo</a></code>&nbsp;in class&nbsp;<code><a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The routing information.</dd>
</dl>
</li>
</ul>
<a name="replicate--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>replicate</h4>
<pre>public&nbsp;<a href="../routing/MessageRouter.html" title="class in routing">MessageRouter</a>&nbsp;replicate()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../routing/MessageRouter.html#replicate--">MessageRouter</a></code></span></div>
<div class="block">Creates a replicate of this router. The replicate has the same
 settings as this router but empty buffers and routing tables.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../routing/MessageRouter.html#replicate--">replicate</a></code>&nbsp;in class&nbsp;<code><a href="../routing/MessageRouter.html" title="class in routing">MessageRouter</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The replicate</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MaxPropRouterWithEstimation.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../routing/MaxPropRouter.MaxPropTupleComparator.html" title="class in routing"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../routing/MaxPropRouterWithEstimation.MaxPropComparator.html" title="class in routing"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?routing/MaxPropRouterWithEstimation.html" target="_top">Frames</a></li>
<li><a href="MaxPropRouterWithEstimation.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
